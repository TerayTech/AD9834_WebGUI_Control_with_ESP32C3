# AD9834 信号源 Web 控制台

这是一个基于Web的AD9834信号源控制台，可以通过浏览器连接和控制AD9834信号发生器。

## 功能特点

- 通过Web Serial API直接连接到AD9834设备
- 直观的用户界面，控制频率、相位和波形类型
- 实时波形可视化显示
- 支持双频率寄存器和双相位寄存器
- 内置命令控制台，支持所有AD9834命令

## 使用要求

- 支持Web Serial API的浏览器（Chrome 89+或Edge 89+）
- 已连接的AD9834信号源设备（使用ESP32C3控制）
- 设备已烧录相应的固件（支持串口命令控制）

## 使用方法

1. 将ESP32C3连接到计算机
2. 在Chrome或Edge浏览器中打开`index.html`文件
3. 点击"连接设备"按钮，在弹出的对话框中选择相应的串口设备
4. 连接成功后，使用界面上的控件控制AD9834

## 界面说明

### 频率控制

- 选择频率寄存器（F0/F1）
- 输入频率值（Hz）
- 使用预设按钮快速设置常用频率

### 相位控制

- 选择相位寄存器（P0/P1）
- 输入相位值（0-4095）或使用滑块调节

### 波形控制

- 选择波形类型（正弦波/三角波）

### 寄存器选择

- 选择当前活动的频率寄存器
- 选择当前活动的相位寄存器

### 波形可视化

- 实时显示当前波形
- 可调节时间和幅度刻度

### 控制台

- 直接输入命令控制设备
- 显示设备返回的信息
- 内置命令帮助

## 命令列表

| 命令     | 描述                           | 示例      |
|---------|--------------------------------|-----------|
| F0xxxxx | 设置频率寄存器0的值（单位：Hz）    | F01000    |
| F1xxxxx | 设置频率寄存器1的值（单位：Hz）    | F110000   |
| P0xxxx  | 设置相位寄存器0的值（范围：0-4095）| P00       |
| P1xxxx  | 设置相位寄存器1的值（范围：0-4095）| P11024    |
| SF0     | 选择频率寄存器0                  | SF0       |
| SF1     | 选择频率寄存器1                  | SF1       |
| SP0     | 选择相位寄存器0                  | SP0       |
| SP1     | 选择相位寄存器1                  | SP1       |
| WS      | 设置波形为正弦波                  | WS        |
| WT      | 设置波形为三角波                  | WT        |
| ?/H     | 显示帮助信息                     | ?         |

## 技术说明

- 使用Web Serial API进行串口通信
- 使用Chart.js进行波形可视化
- 纯前端实现，无需服务器

## 注意事项

- 由于安全限制，Web Serial API只能在HTTPS网站或本地文件中使用
- 首次连接设备时，浏览器会请求用户授权
- 波形可视化是模拟的，不是从设备读取的实际波形
